pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
-- game
-- by leo and karl

#include main.lua
#include utility.lua
#include handlers.lua
#include doors.lua
#include items.lua
#include plates.lua

__gfx__
66666666666666666666666666666666666666666666666666660006666666666666666666666666000000000000000000000000000000000000000000000000
66666666000006666666666660006666600066660066666666608880000666666600600000066666000000000000000000077000000000000000000000000000
666660000888006666666600088800666088000000066666666008808800666660880888888006660000007777700000077aa770000770000000777700000000
66600088888008066660008888800806660888888880666666008888888000666088888888888006000007aaaaa770007aaaaaa0007aa0000007aaaa77000000
6600888888888806660088888888880660088888888006666608888888008066660888888888888000000aaaaaaaa700aaaaaaa000aaa000000aaaaaaa700000
6008888888888066600888888888806660888888888806666660088888888006666008888888808000007aaaaaaaaa00aaaaaaa000aaa000000aaa22aaa70000
600088800888006660088888888800666608008888880666666020088888806666600008008880060000aaaa222aaa00aaa22aa700aaa000000aaa002aaa0000
660800022000806666008888888000666660200008080666666020208888806666600220200000660007aaa200022200aaa00aaa00aaa000007aaa000aaa7000
66080202202080666602088888802066660220220800666666602220888806666660222022020666000aaaa000000000aa200aaa00aaa00000aaaa0002aaa000
66600222222006666660088888800666666022222006666666660200888006666666022220006666000aaa2000000000aa000aaa00aaa00000aaaa00002aa000
66002022220200666600208888020066666600002220666666660222000020666660200002220666000aaa0077777000aa00099900aaa00000aaaa00000aa700
6022220000222206602222000022220666666002222066666660222222200666666600222222206600099a00aaaaa0009aa0099900999900009aaa00000a9900
6022022222202206602202222220220666666022222066666660220222206666666660222202206600099900aaaaa00099909999009999000099990000099900
66000222222000666600022222200066666666020006666666660022202066666666602022200666000999000aaaa00099999992009999000099999000999900
666602000020666666660200002066666666660220666666666660220006666666666600022066660009999099a9900099999990009999000029999999999900
66660006600066666666000660006666666666000666666666666000066666666666666600006666000999999999900099999920009999990009999999999900
66666666660006666666666666000666666666666666666666660006666666666666666666666666000299999999900029999900002999990009999999999200
66666666008880666666666600888066600066660066666666608880000666666666666666666666000099999999200002999200000999990002299999992000
66600000888808066660000088800006608800000006666666600880880066666600600000066666000022299992000000222000000222220000022222220000
66088888888888806608888888888806660888888880666666008888888000666088088888800666000000022220070000000000000000000000000000000000
600888888888880660088888888888066008888888800666660888888800806660888888888880060007700000077a0007700000770000007777000777700000
60808888008800666088888888880066608888888888066666600888888880066608888888888880000aa700077aaa077aa70000aa700007aaaa700aaaa77000
66080080220080666600888888880066660800888888066666602008888880666660088888888080000aaa000aaaa00aaaaa7000aaa7000aa22aa70aa2aaa700
66080202202080666602088888802066660020000808066666600020888880666660000800888006000aaa700aaa200aa22aa007aa2a700aa00aaa0aa022aa00
666002022020006666600888888000666660202208006666666002208888066666600220200000660009aaa77aa9000aa00aa00aa20aa00aaaaa420aa000a990
66602022220222066660208888022206660220222006666666022222088000666660222022020666000999aaaa990009a00a9009a009900aaa992009a0009990
66022200002202066602220000220206666022220206666666022222000022066666022220222066000999900999900990099009999990099999000990099920
60220222020000666022022202000066666600002220666666600022222022066666600000222066000999000999900999999099999990099299900999999200
60220002222066666022000222206666660000222200666666666000222000066666602002220666000299000999900299992099922999099029900299999000
66000000222066666600000022206666660220220202066666666666022206666666022202200666000022000299200029920022200992022002200022222000
66666660220666666666666022066666666022000002066666666666602206666666022060006666000000000022000002200000000220000000000000000000
66666666000666666666666600066666666600666600666666666666660066666666600666666666000000000000000000000000000000000000000000000000
66666666666666666666666666666666666666666666666666660006666666666666666666666666cccccccccccccccc00000000000000000000000000000000
66666666000006666666666660006666600066660066666666608880000666666600600000066666cccccccccccccccc00000000000000000000000000000000
66666000088800666666660008880066608800000006666666600880880066666088088888800666cccccccccccccccc00000000000000000000000000000000
66600088888008066660008888800806660888888880666666008888888000666088888888888006cccccccccccccccc00000000000000000000000000000000
66008888888888066600888888888806600888888880066666088888880080666608888888888880ccccc000000ccccc00000000000000000000000000000000
60088888888880666008888888888066608888888888066666600888888880066660088888888080ccc0044dd4400ccc00000000000000000000000000000000
60008880088800666008888888880066660800888888066666602008888880666660000800888006cc04444dd44440cc00000000000000000000000000000000
66080002200080666600888888800066666020000808066666602020888880666660022020000066cc04444dd44440cc00000000000000000000000000000000
66080202202080666602088888802066660220220800666666602220888806666660222022020666cc000000000000cc00000000000000000000000000000000
66600222222006666660088888800666666022222006666666660200888006666666022220006666cc04444dd44440cc00000000000000000000000000000000
66002022220200666600208888020066666600002220666666660222000020666660200002220666cc022225522220cc00000000000000000000000000000000
60222200002222066022220000222206666660022220666666602222222006666666002222222066cc022225522220cc00000000000000000000000000000000
60220222222022066022022222202206666660222220666666602202222066666666602222022066cc022225522220cc00000000000000000000000000000000
66000222222000666600022222200066666666020006666666660022202066666666602022200666cc022225522220cc00000000000000000000000000000000
66660200002066666666020000206666666666022066666666666022000666666666660002206666ccc0000000000ccc00000000000000000000000000000000
66660006600066666666000660006666666666000666666666666000066666666666666600006666cccccccccccccccc00000000000000000000000000000000
66666666600006666666666660000666666666666666666666666666666666666666666666666666cccccccccccccccc00000000000000000000000000000000
66666660088880666666666000888066600066660066666666660006666666666600600000066666cccccccccccccccc00000000000000000000000000000000
66600008888808066660000088800006608800000006666666608880000666666088088888800666cccccccccccccccc00000000000000000000000000000000
66088888888888806608888888888806660888888880666666600880880066666088888888888006cc000000000000cc00000000000000000000000000000000
60888888888888066008888888888806600888888880066666008888888000666608888888888880c00000000000000c00000000000000000000000000000000
60808888008800666088888888880066608888888888066666088888880080666660088888888080c00000000000000c00000000000000000000000000000000
66080080220080666600888888880066660800888888066666600888888880066660000800888006cc008899998800cc00000000000000000000000000000000
66080202202080666602088888802066660020000808066666602008888880666660022020000066cc0aaaaaaaaaa0cc00000000000000000000000000000000
66000202202006666600088888800066666020220808066666600020888880666660222022020066cc000000000000cc66666666666666660000000000000000
60222022220206666022208888020666660220220800666666602020888806666660022220222206cc099997799990cc66666611116666660000000000000000
60220200002220666022020000222066666022222006666666660222088006666602200002222206cc04444dd44440cc66661111111166660000000000000000
66000222020222066600022202022206666600002220066666660220000066666602002022000066cc04444dd44440cc66111111111111660000000000000000
66660222200022066666022220002206660000220222206666660222002066666600602220006666cc022225522220cc66111111111111660000000000000000
66660220000000666666022000000066660222220202206666666022022206666666022206666666cc022225522220cc66661111111166660000000000000000
66666022066666666666602206666666666022000000006666666000602206666666022066666666ccc0000000000ccc66666611116666660000000000000000
66666000666666666666600066666666666600666600666666666666660066666666600666666666cccccccccccccccc66666666666666660000000000000000
cccccccc01010ccc000000000000000000000000ccc0101001010cccccccccccccc01010ccc0101001010ccccccccccccccccccc111111110101010100000000
cccccccc01010ccc001111111110111111111100ccc0001000010cccccccccccccc01000ccc0100110010ccccccccccccccccccc111111111010101001010101
cccccccc01000ccc010000000000000000000010ccc01010010107777777777777701010ccc0100000010cccccc7777777777ccc111111110101010100000000
cccccccc01010ccc010011111011110111110010ccc01000010100000000000000001010ccc0011111100cccccc0000000000ccc111111111010101001010101
cccccccc00010ccc010100000000000000001010ccc01010010011111011110111110010ccc0000000000cccccc0011111100ccc111111110101010100000000
cccccccc01010ccc010107777777777777701010ccc00010010000000000000000000010ccc7777777777cccccc0100000010ccc111111111010101001010101
cccccccc01000ccc00010cccccccccccccc01000ccc01010001111111111011111111100ccccccccccccccccccc0100110010ccc111111110101010100000000
cccccccc01010ccc01010cccccccccccccc01010ccc01010000000000000000000000000ccccccccccccccccccc0101001010ccc111111111010101001010101
cccccccccccccccc0000000000000000cccccccccccccccc00000000cccc7ccc0000000000000000000000000000000000000000000000001000000000000000
cccccccccccccccc1100001111101111c000000ccccccccc00000000cc7777770000000000000000000000000000000000000000000000001011111100000000
ccccdccccccccccc0000000000000000c001100cccc7cccc00000000777777770000000000000000000000000000000000000000000000001010000100100100
cccccccccccdcccc1011110110111101c010010cccccc77c00000000000000000000000000000000000000000000000000000000000000001010110100000000
ccccccccccdcddcc00cccc0000000000c010010ccccccccc00000000101111010000000000000000000000000000000000000000000000001010010100000000
cdccccccccccdcdc700cc00777777777c001100cc7777ccc00000000000000000000000000000000000000000000000000000000000000001011110100100100
ccccccccccccdcccc777777cc777777cc000000ccccccccc00000000111101110000000000000000000000000000000000000000000000001000000100000000
cccccccdccccccccccccccccccc77ccccccccccccccccccc00000000000000000000000000000000000000000000000000000000000000001111111100000000
cc0550cc01010ccc000000000005500000000000ccc0101000000000c005500c0000000000000000000000000000000000000000000000001111111100000000
c005500c010000000000000011055011000000000000001000000000c015510c0000000000000000000000000000000000000000000000001111111100000000
c015510c000111100000000000055000000000000111100000000000701111070000000000000000000000000000000000000000000000001111111100000000
c015510c555111550000000010111101000000005511155500000000001111000000000000000000000000000000000000000000000000007775577700000000
c015510c55511155000000000011110000000000551115550000000010111101000000000000000000000000000000000000000000000000cc1551cc00000000
c015510c00011110000000007011110700000000011110000000000000055000000000000000000000000000000000000000000000000000cc1111cc00000000
c005500c0100000000000000c015510c00000000000000100000000011055011000000000000000000000000000000000000000000000000cc1551cc00000000
cc0550cc01010ccc00000000c005500c00000000ccc010100000000000000000000000000000000000000000000000000000000000000000ccc55ccc00000000
cccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c000000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
55555555000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00111100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
c000000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
cccccccc000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
cddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddc
cd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dc
cd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dc
cd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dccd5555dc
cddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddccddddddc
c555555cc555555cc555555cc555555cc555555cc555555cc555555cc555555cc555555cc555555cc555555cc555555cc555555cc555555cc555555cc555555c
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
cbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbc
cb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bc
cb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bc
cb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bccb3333bc
cbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbccbbbbbbc
c333333cc333333cc333333cc333333cc333333cc333333cc333333cc333333cc333333cc333333cc333333cc333333cc333333cc333333cc333333cc333333c
cccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccccc
66000066666666666666076666666666600000666000666660000006666666660000000000000000000000000000000000000000000000000000000000000000
60aaaa06660000766660787667000066077777060dd506660aa9a990666666660000000000000000000000000000000000000000000000000000000000000000
079999a06033330666608706707ccc06607000660ddd506660224406660660060000000000000000000000000000000000000000000000000000000000000000
0797a9a00b333bb06660880607ccccc06607066605ddd5066044220660a004a00000000000000000000000000000000000000000000000000000000000000000
0a9a79a067bbbb06600028060c1111c0607066666055500060244406049a00760000000000000000000000000000000000000000000000000000000000000000
0a9999a0707bb0660220220660111176070000666605011060422406674406060000000000000000000000000000000000000000000000000000000000000000
60aaaa06670bb066600022066600006607777706666001100aa9a990767060400000000000000000000000000000000000000000000000000000000000000000
66000066666006666666006666666666600000666666000660000006676666060000000000000000000000000000000000000000000000000000000000000000
66600666666666766660066666666666666666666666666666666666666660060000000000000000000000000000000000000000000000000000000000000000
660a9066660007076608706666000066600000666006666660000006666609a00000000000000000000000000000000000000000000000000000000000000000
66079066603333766608806667111106077777060dd0006609aa9a90666604700000000000000000000000000000000000000000000000000000000000000000
660790660bbb3330660880660cc11cc00700006605dddd0660244206666607070000000000000000000000000000000000000000000000000000000000000000
660a906660bbbb06660020060ccccc7060706666055dd00060422406670666760000000000000000000000000000000000000000000000000000000000000000
660a9066670bb0666022000660ccc70707000066605501106024420660a066060000000000000000000000000000000000000000000000000000000000000000
660a9066660bb0666022006666000076077777066605011009aa9a90604400400000000000000000000000000000000000000000000000000000000000000000
66600666666006666600066666666666600000666660000660000006660066060000000000000000000000000000000000000000000000000000000000000000
__gff__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000020000
0100000000000000000000000000000001010000000100000000000000000000000000000000000000000000000000000000000000000000000000000000000001010101010101010101010101010101010101010101010101010101010101010000000000000000000000000000000000000000000000000000000000000000
__map__
8f8e8d8d8d8e8e8f9f8f8e8e8d8d8e8e8f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
828383839383838383849b82838383838400000000000000009f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
818095808080808080859b81808080808500008f9f9c9c008e8f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
81914a4b8080808080859b81804a4b8085008e9e8e9c8f9e8d8e8f9f009f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
81805a5b8080808080859e81805a5b95898383a3838383a38392839383839283a383838383838383838383928383a3838383838383838383838383838383838383838383838383838383838000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
81808080808080808089a38a80808080808080a0808095a08080809080808080a080808080808080808080808080a0808080808080808080808080808080808080808080808080808080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
81808080808080c08080a08080c0808080c180a080c280a08080808080808080a080958080808080808080808080a0808080808080808080808080808080808080808080808080808080808080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8180808080809580808ba78c80809091808080a0808080a08080808080918080a0808080808080808b978c808080a0808080808080808080808080808080808080808080808080808080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
818080808080808080859e81808080808b8787a7978787a78787878c8080808ba787878787878797889981808b87a7878787878787878787878787878787878787878787878787808080008000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
818080808080808080859f8180808080859e8d8d8d8d8d8d8d8d9e81808080858f8e8d8d8e8f000000008180859800000000000000000000000000000000000000000000009900808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8180808080808080808500818080808085008e8e8e8e8e8e8e8e0081808080859f00008f9f00000000008180859800000000000000000000000000000000000000000000009900808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
868787878787878787880086878787878800008f8f8f8f8f8f00008180808085000000000000000000008180859800000000000000000000000000000000000000000000009900808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
8f8e8d8d8d8d8e8f008f8e8d8d8d8e8e8f0000009f9f9f9f0000008180908085000000000000000000008180859800000000000000000000000000000000000000000000009999808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
9f8f8e8e8e8e8f9f00008f8e8d8e8f00000000000000000000000081808080850000000000000000000081808598000000000000000000000000000000000000000000000099a1b0b0b0a50000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000008f8f9f0000000000008f8f0000000000000000000000000081808080859f00009f8f9f000000008180859800000000000000000000000000000000000000000000009999808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000009f000000000000000000000000000081808080859f00008f8283838383a38a8089a383838383000000000000000000000000000000000000009999808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000081808080858e00008e8180808080a0808080a080808080000000000000808080808080808080808080009999808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000081808080858e9f9f8e8180808080a0808080a080808080000000000000808080808080808080808080009999808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000081808080859e8e8e9e8180808080a0808080a080808080000000000000808080808080808080808080009999808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000008180808089838392838a8080808ba7878787a78c808080000000000000808080808080808080808080009900808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000008180808080808080808080808085808080808081808080808080808080808080808080808080808080808080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000008180808080808080809080808085808080808081808080808080808080808080808080808080808080808080808080990000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000008180808080808080808080808085808080808081808080808080808080808080808080808080808080808080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000008687878787878787878c80808089a3838383a38a8080808b8787878787808080808080808080808080999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000008180808080a0808080a080808080850000000000808080808080808080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000008180808080a0808080a080808080850000000000808080808080808080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000008180808080a0808080a080808080850000000000808080808080808080808080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000008687878787a7878787a787878787880000000000999999999999999999999999000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000009999999900000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
00010000200502003020050200501e0501a05015050100500b0500605005050050500505005050060500705008050090500b0500e050140501505017050180501a0501a0501c0501a05001050020500b05014050
0010000020050200502005020050200501f0501f0501e0501d0501c0501b050190501805014050130500f0500d050090500405003050020500105001050020500305004050050500605007050090500a0500b050
__music__
00 41024344

